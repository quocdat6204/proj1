{% extends "website/base.html" %}

{% block title %}{{ book.title }} · Chi tiết sách{% endblock %}

{% block content %}
    <div style="display:flex;flex-direction:column;gap:16px;">
        <a href="{% url 'website:home' %}" style="font-size:13px;color:#9ca3af;">← Quay lại danh sách</a>

        <div style="display:flex;flex-wrap:wrap;gap:20px;">
            <div style="flex:2;min-width:240px;">
                <div style="font-size:22px;font-weight:600;margin-bottom:6px;">{{ book.title }}</div>
                <div style="font-size:14px;color:#9ca3af;margin-bottom:12px;">{{ book.author }}</div>
                <div style="font-size:14px;margin-bottom:8px;">
                    Giá: <span style="color:#38bdf8;font-weight:600;">{{ book.price }} đ</span>
                </div>
                <div style="font-size:13px;color:#9ca3af;margin-bottom:6px;">
                    Tồn kho: 
                    {% if book.is_available %}
                        <span style="color:#22c55e;">{{ book.stock }} cuốn</span>
                    {% else %}
                        <span style="color:#f97373;">Hết hàng</span>
                    {% endif %}
                </div>
            </div>
            <div style="flex:1;min-width:220px;">
                {% if customer_id %}
                    <form method="post" action="{% url 'website:add_to_cart' book.id %}"
                          style="background:rgba(15,23,42,.98);border-radius:14px;padding:14px;border:1px solid rgba(148,163,184,.35);display:flex;flex-direction:column;gap:10px;">
                        {% csrf_token %}
                        <div style="font-size:14px;font-weight:500;">Thêm vào giỏ hàng</div>
                        <label style="font-size:13px;color:#9ca3af;">
                            Số lượng:
                            <input type="number" min="1" name="quantity" value="1"
                                   style="margin-top:4px;border-radius:999px;border:1px solid rgba(148,163,184,.45);background:transparent;color:#e5e7eb;padding:4px 10px;font-size:13px;width:80px;">
                        </label>
                        <button class="btn" type="submit">Thêm</button>
                    </form>
                {% else %}
                    <div style="font-size:13px;color:#9ca3af;">
                        Bạn cần <a href="{% url 'website:login' %}" style="color:#38bdf8;">đăng nhập</a> để thêm sách vào giỏ.
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}

